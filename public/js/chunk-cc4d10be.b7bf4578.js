(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc4d10be"],{"00d7":function(t,n,a){"use strict";var s=a("0480"),r=a.n(s);r.a},"0480":function(t,n,a){},cdee:function(t,n,a){"use strict";a.r(n);var s=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"sun-order"},[a("div",{staticClass:"title"},[t._v("\n        已买到的宝贝\n    ")]),a("nav",{staticClass:"navbar"},[a("a",{class:{active:"all"===t.currentTab},attrs:{href:"javascript:0;"},on:{click:function(n){t.onTab("all")}}},[t._v("\n            全部订单\n        ")]),a("a",{class:{active:"toConfirm"===t.currentTab},attrs:{href:"javascript:0;"},on:{click:function(n){t.onTab("toConfirm")}}},[t._v("\n            待收货\n            "),a("span",{staticClass:"number"},[t._v(t._s(t.toConfirmOrders&&(t.toConfirmOrders.length||"")))])]),a("a",{class:{active:"toEvaluate"===t.currentTab},attrs:{href:"javascript:0;"},on:{click:function(n){t.onTab("toEvaluate")}}},[t._v("\n            待评价\n            "),a("span",{staticClass:"number"},[t._v(t._s(t.toEvaluateOrders&&(t.toEvaluateOrders.length||"")))])]),a("a",{class:{active:"done"===t.currentTab},attrs:{href:"javascript:0;"},on:{click:function(n){t.onTab("done")}}},[t._v("\n            已完成订单\n        ")])]),t._m(0),a("ul",{staticClass:"goods"},[t.instageOrder&&t.instageOrder.length?t._l(t.instageOrder,function(n){return a("li",{key:n.id},[a("header",{staticClass:"order-info"},[a("span",{staticClass:"number"},[t._v(t._s(t.formatDate(n.createdAt)))]),a("span",[t._v("订单号：")]),a("span",{staticClass:"number"},[t._v(t._s(n.id))])]),a("div",{staticClass:"info"},[a("img",{attrs:{src:n.product.main_image},on:{click:function(a){t.onProductDetail(n.product)}}}),a("span",{on:{click:function(a){t.onProductDetail(n.product)}}},[t._v("\n                        "+t._s(n.product.title)+"\n                    ")])]),a("div",{staticClass:"price"},[a("span",[t._v("￥"+t._s(n.product.discount.toFixed(2)))]),n.product.discount<n.product.price?a("span",{staticClass:"origin"},[a("span",{staticClass:"text"},[t._v("原价")]),t._v("\n                        ￥"+t._s(n.product.price.toFixed(2))+"\n                    ")]):t._e()]),a("div",{staticClass:"count"},[a("span",{staticClass:"text"},[t._v("×")]),t._v("\n                    "+t._s(n.product.count)+"\n                ")]),a("div",{staticClass:"total"},[t._v("￥"+t._s((n.product.discount*n.product.count).toFixed(2)))]),a("div",{staticClass:"action"},["toConfirm"===n.status?a("a",{staticClass:"btn delivery",attrs:{href:"javascript:0;"},on:{click:function(a){t.onConfirm(n)}}},[t._v("\n                        确认收货\n                    ")]):t._e(),"toEvaluate"===n.status?a("a",{staticClass:"btn",attrs:{href:"javascript:0;"},on:{click:function(a){t.onEvaluate(n)}}},[t._v("\n                        评价商品\n                    ")]):t._e(),"done"===n.status?a("a",{staticClass:"btn",attrs:{href:"javascript:0;"},on:{click:function(a){t.onDelete(n)}}},[a("x-icon",{staticClass:"icon",attrs:{name:"delete"}}),t._v("删除订单\n                    ")],1):t._e()])])}):t._e()],2)])},r=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("ul",{staticClass:"title-bar"},[a("li",{staticClass:"info"},[t._v("商品信息")]),a("li",{staticClass:"price"},[t._v("单价")]),a("li",{staticClass:"count"},[t._v("数量")]),a("li",{staticClass:"pay"},[t._v("实付款")]),a("li",{staticClass:"action"},[t._v("操作")])])}],e=a("61e6"),i=a("fda6"),o={name:"Order",mixins:[i["a"]],components:{xIcon:e["a"]},data:function(){return{currentTab:"toConfirm"}},computed:{toConfirmOrders:function(){return this.allOrders&&this.allOrders.length?this.allOrders.filter(function(t){return"toConfirm"===t.status}):null},toEvaluateOrders:function(){return this.allOrders&&this.allOrders.length?this.allOrders.filter(function(t){return"toEvaluate"===t.status}):null},doneOrders:function(){return this.allOrders&&this.allOrders.length?this.allOrders.filter(function(t){return"done"===t.status}):null},instageOrder:function(){return this.allOrders&&this.allOrders.length?"all"===this.currentTab?this.allOrders:"toConfirm"===this.currentTab?this.toConfirmOrders:"toEvaluate"===this.currentTab?this.toEvaluateOrders:"done"===this.currentTab?this.doneOrders:void 0:null}},watch:{isLogin:{handler:function(t){t&&this.getOrder()},immediate:!0}},methods:{formatDate:function(t){var n;n="string"===typeof t?new Date(t):t;var a=n.getFullYear(),s=n.getMonth()+1;s<10&&(s="0"+s);var r=n.getDate();return r<10&&(r="0"+r),a+"-"+s+"-"+r},onTab:function(t){this.currentTab=t},onProductDetail:function(t){window.open("/product.html?id=".concat(t.id),"_blank")},onConfirm:function(t){var n=this;this.isLogin||window.open("/member.html","_self"),this.changeOrderStatus({order:t,status:"toEvaluate"}).catch(function(t){n.$error({message:t.msg})})},onEvaluate:function(t){window.open("/product.html?oid=".concat(t.id,"&pid=").concat(t.product.id),"_blank")},onDelete:function(t){this.isLogin||window.open("/member.html","_self"),this.deleteOrder({id:t.id})}}},c=o,l=(a("00d7"),a("2877")),u=Object(l["a"])(c,s,r,!1,null,"d7dd8bb8",null);u.options.__file="order.vue";n["default"]=u.exports}}]);
//# sourceMappingURL=chunk-cc4d10be.b7bf4578.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33bb7797"],{"0240":function(t,e,i){},"0e14":function(t,e,i){},8738:function(t,e,i){},9917:function(t,e,i){"use strict";var r=i("0e14"),n=i.n(r);n.a},aa77:function(t,e,i){var r=i("5ca1"),n=i("be13"),s=i("79e5"),o=i("fdef"),c="["+o+"]",a="​",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),d=function(t,e,i){var n={},c=s(function(){return!!o[t]()||a[t]()!=a}),l=n[t]=c?e(f):o[t];i&&(n[i]=l),r(r.P+r.F*c,"String",n)},f=d.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},ac6a:function(t,e,i){for(var r=i("cadf"),n=i("0d58"),s=i("2aba"),o=i("7726"),c=i("32e9"),a=i("84f2"),l=i("2b4c"),u=l("iterator"),d=l("toStringTag"),f=a.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=n(h),p=0;p<m.length;p++){var g,v=m[p],w=h[v],b=o[v],y=b&&b.prototype;if(y&&(y[u]||c(y,u,f),y[d]||c(y,d,v),a[v]=f,w))for(g in r)y[g]||s(y,g,r[g],!0)}},c5f6:function(t,e,i){"use strict";var r=i("7726"),n=i("69a8"),s=i("2d95"),o=i("5dbc"),c=i("6a99"),a=i("79e5"),l=i("9093").f,u=i("11e9").f,d=i("86cc").f,f=i("aa77").trim,h="Number",m=r[h],p=m,g=m.prototype,v=s(i("2aeb")(g))==h,w="trim"in String.prototype,b=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=w?e.trim():f(e,3);var i,r,n,s=e.charCodeAt(0);if(43===s||45===s){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+e}for(var o,a=e.slice(2),l=0,u=a.length;l<u;l++)if(o=a.charCodeAt(l),o<48||o>n)return NaN;return parseInt(a,r)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof m&&(v?a(function(){g.valueOf.call(i)}):s(i)!=h)?o(new p(b(e)),i,m):b(e)};for(var y,L=i("9e1e")?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;L.length>S;S++)n(p,y=L[S])&&!n(m,y)&&d(m,y,u(p,y));m.prototype=g,g.constructor=m,i("2aba")(r,h,m)}},e1e3:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"category"},[t.productsList&&t.productsList.length?i("x-waterfall",{attrs:{width:220,source:t.productsList},on:{"scroll-bottom":t.scrollBottom},scopedSlots:t._u([{key:"default",fn:function(e){return i("div",{},[i("sun-sku",{attrs:{product:e.prop},on:{"add-to-cart":function(e){t.handleAddToCart(e)}}})],1)}}])}):t._e()],1)},n=[],s=(i("96cf"),i("1da1")),o=i("fda6"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"x-waterfall"},[t.col&&t.source&&t.source.length?[t._l(t.col,function(t,e){return i("div",{key:e,ref:"box",refInFor:!0,staticClass:"box"})}),t._l(t.source,function(e,r){return i("div",{key:"item-"+r,ref:"item",refInFor:!0,staticClass:"item"},[t._t("default",null,{prop:e})],2)})]:t._e()],2)},a=[],l=(i("ac6a"),i("6c7b"),i("c5f6"),{name:"xWaterfall",props:{width:{type:Number,default:200},source:{type:Array,required:!0},target:""},data:function(){return{col:0,gutter:0,heightArray:null,dom:null}},mounted:function(){var t=this;this.resize(),this.target?("string"===typeof this.target?this.dom=document.querySelector(this.target):this.dom=this.target,this.dom.addEventListener("scroll",this.listenScroll)):window.addEventListener("scroll",this.listenScroll),this.$nextTick(function(){t.resize(),window.addEventListener("resize",t.resize)})},methods:{listenScroll:function(){var t,e,i;this.target?(t=this.dom.scrollHeight,e=this.dom.scrollTop,i=this.dom.clientHeight):(t=document.documentElement.scrollHeight||document.body.scrollHeight,e=document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.clientHeight||document.body.clientHeight),t-e<i+10&&(this.$emit("scroll-bottom"),this.target?this.dom.removeEventListener("scroll",this.listenScroll):window.removeEventListener("scroll",this.listenScroll))},resize:function(){var t=this;this.$el.style.width="auto";var e=this.$el.getBoundingClientRect(),i=e.width;this.$el.style.width=i+"px",this.col=Math.floor(i/this.width),1===this.col?this.gutter=(i-this.width)/2:this.gutter=(i-this.width*this.col)/(this.col-1),this.heightArray=Array(this.col).fill(0),this.$nextTick(function(){t.$refs.box.forEach(function(e){e.style.width=t.width+"px"}),t.$refs.item.forEach(function(e){e.style.width=t.width+"px";var i=Math.min.apply(void 0,t.heightArray),r=t.heightArray.indexOf(i),n=e.getBoundingClientRect(),s=n.height;e.style.top=i+"px",1===t.col?e.style.left=t.gutter+"px":e.style.left=t.gutter*r+t.width*r+"px",t.$refs.box[r].style.height=i+s+"px",t.$set(t.heightArray,r,i+s)})})}},watch:{source:{handler:function(t){this.resize(),this.target?this.dom.removeEventListener("scroll",this.listenScroll):window.removeEventListener("scroll",this.listenScroll),this.target?this.dom.addEventListener("scroll",this.listenScroll):window.addEventListener("scroll",this.listenScroll)},deep:!0}},beforeDestroy:function(){this.target?this.dom.removeEventListener("scroll",this.listenScroll):window.removeEventListener("scroll",this.listenScroll),window.removeEventListener("resize",this.resize)}}),u=l,d=(i("9917"),i("2877")),f=Object(d["a"])(u,c,a,!1,null,"de092876",null);f.options.__file="waterfall.vue";var h=f.exports,m=i("fad4"),p={name:"Category",mixins:[o["a"]],components:{xWaterfall:h,sunSku:m["a"]},data:function(){return{tab:"",fakeAllProducts:null,timerId:null}},computed:{productsList:function(){return this.fakeAllProducts?"male"===this.tab?this.fakeAllProducts.filter(function(t){return"male"===t.category}):"female"===this.tab?this.fakeAllProducts.filter(function(t){return"female"===t.category}):"discount"===this.tab?this.fakeAllProducts.filter(function(t){return t.discount<t.price}):this.fakeAllProducts:null}},watch:{$route:{handler:function(t){this.tab=t.query.tab},deep:!0,immediate:!0}},created:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=!this.allProducts,!t.t0){t.next=4;break}return t.next=4,this.getAllProducts();case 4:this.fakeAllProducts=this.allProducts;case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),beforedestroy:function(){this.timerId&&(window.clearTimeout(this.timerId),this.timerId=null)},methods:{scrollBottom:function(){var t=this;this.timerId||this.fakeAllProducts.length>80||this.fakeAllProducts&&this.allProducts&&(this.timerId=setTimeout(function(){t.fakeAllProducts=t.fakeAllProducts.concat(t.allProducts),t.timerId&&(window.clearTimeout(t.timerId),t.timerId=null)},1500))},handleAddToCart:function(t){this.addToCart({count:1,id:t.id})}}},g=p,v=(i("f24b"),Object(d["a"])(g,r,n,!1,null,"729dd55e",null));v.options.__file="category.vue";e["default"]=v.exports},ee6d:function(t,e,i){"use strict";var r=i("8738"),n=i.n(r);n.a},f24b:function(t,e,i){"use strict";var r=i("0240"),n=i.n(r);n.a},fad4:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sun-sku"},[i("div",{staticClass:"show-img",on:{click:function(e){t.onDetail(t.product)}}},[t.product.discount<t.product.price?i("div",{staticClass:"icon-wrapper"},[i("x-icon",{staticClass:"icon",attrs:{name:"sale"}})],1):t._e(),"main"===t.currentImg?i("img",{attrs:{src:t.product.main_image}}):i("img",{attrs:{src:t.product.sub_image}})]),i("div",{staticClass:"focus-img"},[i("div",{staticClass:"cover",class:{active:"main"===t.currentImg},on:{mouseenter:function(e){t.currentImg="main"}}},[i("img",{attrs:{src:t.product.main_image}})]),i("div",{staticClass:"feature",class:{active:"sub"===t.currentImg},on:{mouseenter:function(e){t.currentImg="sub"}}},[i("img",{attrs:{src:t.product.sub_image}})])]),i("div",{staticClass:"goods-price"},[i("div",{staticClass:"price"},[i("span",[t._v("￥")]),i("span",{staticClass:"number"},[t._v(t._s(t.product.price))]),i("span",[t._v(".00")])]),t.product.discount<t.product.price?i("div",{staticClass:"origin-price"},[i("span",[t._v("￥"+t._s(t.product.price)+".00")])]):t._e()]),i("div",{staticClass:"title",on:{click:function(e){t.onDetail(t.product)}}},[t._v("\n        "+t._s(t.product.title)+"\n    ")]),i("div",{staticClass:"actions"},[i("div",{staticClass:"detail",attrs:{role:"button"},on:{click:function(e){t.onDetail(t.product)}}},[i("x-icon",{staticClass:"icon",attrs:{name:"detail"}}),t._v("\n            查看详情\n        ")],1),i("div",{staticClass:"add-to-cart",attrs:{role:"button"},on:{click:function(e){t.onAddToCart(t.product)}}},[i("x-icon",{staticClass:"icon",attrs:{name:"cart"}}),t._v("\n            加入购物车\n        ")],1)])])},n=[],s=i("61e6"),o={name:"SunSku",components:{xIcon:s["a"]},props:{product:{type:Object,required:!0}},data:function(){return{currentImg:"main"}},methods:{onDetail:function(t){window.open("/product.html?id=".concat(t.id),"_blank")},onAddToCart:function(t){this.$emit("add-to-cart",t)}}},c=o,a=(i("ee6d"),i("2877")),l=Object(a["a"])(c,r,n,!1,null,"00fa731a",null);l.options.__file="sku.vue";e["a"]=l.exports},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-33bb7797.52fa9b4e.js.map